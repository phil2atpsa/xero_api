<div class="animated fadeIn">
    <div class="row">
        <div class="col-md-12">
            <span class="badge badge-success pull-right" *ngIf="invoice.Status == 'PAID'">{{invoice.Status}} </span>
            <span class="badge badge-secondary pull-right" *ngIf="invoice.Status == 'DRAFT'">{{invoice.Status}} </span>
            <span class="badge badge-primary pull-right" *ngIf="invoice.Status == 'AUTHORISED'">{{invoice.Status}} </span>
            <span class="badge badge-dark pull-right" *ngIf="invoice.Status == 'SUBMITTED'">{{invoice.Status}} </span>

            <span class="badge badge-danger pull-right" *ngIf="invoice.Status == 'DELETED'">{{invoice.Status}} </span>
            <span class="badge badge-warning pull-right" *ngIf="invoice.Status == 'VOIDED'">{{invoice.Status}} </span>

            <h2> <i class='icon icon-layers'></i> {{invoice.InvoiceNumber}} </h2>      
        </div>
        <hr />
        <div class='col-lg-12'>
            <div class="card">
                <div class="card-header">
                    <table class=" table-borderless pull-right">
                        <tr>
                            <th>Total</th>

                        </tr>
                        <tr>
                            <td>{{invoice.Total}}</td>

                        </tr>

                    </table>
                    <table class=" table-borderless" cellpadding="2" cellspacing="2">
                        <tr>
                            <th>To</th>
                            <th>Date</th>
                            <th>Due Date</th>
                            <th>Invoice #</th>
                            <th>Reference</th>
                        </tr>
                        <tr>
                            <td>{{invoice.Contact.Name}}</td>
                            <td>{{invoice.Date}}</td>
                            <td>{{invoice.DueDate}}</td>
                            <td>{{invoice.InvoiceNumber}}</td>
                            <td>{{invoice.Reference}}</td>
                        </tr>

                    </table>


                </div>
                <div class="card-body">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>
                                    Description
                                </th>
                                <th>
                                    Quantity
                                </th>
                                <th>
                                    UnitAmount
                                </th>
                                <th>
                                    TaxAmount
                                </th>
                                <th>
                                    LineAmount
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let LineItem of invoice.LineItems">
                                <td>
                                    {{LineItem.Description}}
                                </td>
                                <td>
                                    {{LineItem.Quantity}}
                                </td>
                                <td>
                                    {{LineItem.UnitAmount}}
                                </td>
                                <td>
                                    {{LineItem.TaxAmount}}
                                </td>

                                <td>
                                    {{LineItem.LineAmount}}
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr class="table-clear table-borderless">
                                <td colspan="3"></td>
                                <td> Subtotal</td>
                                <td>{{invoice.SubTotal}}</td>
                            </tr>
                            <tr class="table-clear table-borderless">
                                <td colspan="3"></td>
                                <td> Total Tax</td>
                                <td>{{invoice.TotalTax}}</td>
                            </tr>
                              <tr class="table-clear table-borderless" *ngIf="invoice.AmountPaid && invoice.AmountPaid!=0">
                                <td colspan="3"></td>
                                <td>Less </td>
                                <td>{{invoice.AmountPaid}}</td>
                            </tr>
                            <tr class="table-clear table-borderless">
                                <td colspan="3"></td>
                                <td> <b>Total </b> </td>
                                <td><b>{{invoice.Total}}</b></td>
                            </tr>
                        </tfoot>
                    </table>
                    <table class="table table-striped" *ngIf="invoice.Status != 'PAID'">
                         <thead>
                            <tr>
                               
                                <th colspan="3">
                                    
                                </th>
                                <th>
                                    <h1 class="pull-right">Amount Due</h1>
                                </th>
                                <th>
                                <h1 class="pull-right">{{invoice.AmountDue}}</h1>
                                </th>

                            </tr>
                        </thead>
                    </table>

                </div>
              <div class="card-footer" *ngIf="invoice.Status == 'AUTHORISED'">
                <button class="btn btn-danger pull-right" (click)="make_payment()"><i class="icon icon-credit-card"></i>  Make Payment</button>

              </div>
            </div>

        </div>
    </div>
</div>

